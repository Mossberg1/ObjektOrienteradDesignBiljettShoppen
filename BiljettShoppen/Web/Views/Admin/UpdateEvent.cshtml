@model Models.Entities.Event

@using Models.Enums

@{
    ViewData["Title"] = "Uppdatera event";
}

<div class="container mt-4">
    <h1 class="mb-4">Uppdatera event</h1>

    <div class="card shadow-sm">
        <div class="card-body">
            <form asp-controller="Admin" asp-action="UpdateEvent" asp-route-eventId="@Model.Id" method="post" class="row g-3">
                @Html.AntiForgeryToken()

                <input type="hidden" name="Id" value="@(Model.Id)" />

                <div class="col-12">
                    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                </div>

                <div class="col-12 col-md-6">
                    <label for="Name" class="form-label">Namn</label>
                    <input type="text" id="Name" name="Name" class="form-control" value="@(Model.Name)" required />
                </div>

                <div class="col-12 col-md-4">
                    <label for="Date" class="form-label">Datum</label>
                    <input type="date" id="Date" name="Date" class="form-control" value="@(Model.Date.ToString("yyyy-MM-dd"))" required />
                </div>

                <div class="col-6 col-md-4">
                    <label for="StartTime" class="form-label">Starttid</label>
                    <input type="time" id="StartTime" name="StartTime" class="form-control" value="@(Model.StartTime.ToString("HH:mm"))" required />
                </div>

                <div class="col-6 col-md-4">
                    <label for="EndTime" class="form-label">Sluttid</label>
                    <input type="time" id="EndTime" name="EndTime" class="form-control" value="@(Model.EndTime.ToString("HH:mm"))" required />
                </div>

                <div class="col-12 col-md-6">
                    <label for="ReleaseTicketsDate" class="form-label">Biljettsläpp (datum & tid)</label>
                    <input type="datetime-local" id="ReleaseTicketsDate" name="ReleaseTicketsDate" class="form-control" value="@(Model.ReleaseTicketsDate.ToString("yyyy-MM-ddTHH:mm"))" />
                    <div class="form-text">Lämna tomt om biljetter ska vara tillgängliga omedelbart.</div>
                </div>

                <div class="col-6 col-md-3">
                    <label for="Price" class="form-label">Pris</label>
                    <input type="number" step="0.01" id="Price" name="Price" class="form-control" value="@(Model.Price)" min="0" />
                </div>

                <div class="col-6 col-md-3">
                    <label for="Cost" class="form-label">Kostnad</label>
                    <input type="number" step="0.01" id="Cost" name="Cost" class="form-control" value="@(Model.Cost)" min="0" />
                </div>

                <div class="col-12 d-flex justify-content-start mt-3">
                    <button type="submit" class="btn btn-primary">Uppdatera event</button>
                    <a asp-controller="Admin" asp-action="Browse" class="btn btn-secondary ms-2">Avbryt</a>
                </div>
            </form>
        </div>
    </div>
</div>